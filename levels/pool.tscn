[gd_scene load_steps=20 format=3 uid="uid://kbykm0vwl5c3"]

[ext_resource type="Material" uid="uid://cudkycx02ps38" path="res://scenery/shaders/caustic_pool_tile.tres" id="1_81v3v"]
[ext_resource type="Script" path="res://scripts/environment.gd" id="1_yjnbp"]
[ext_resource type="Material" uid="uid://ccisi0op6ivuu" path="res://scenery/shaders/caustic_pool_wall.tres" id="3_8fh1v"]
[ext_resource type="PackedScene" uid="uid://bmu2nklfby35h" path="res://scenery/misc/red_basket_area.tscn" id="3_yqncf"]
[ext_resource type="PackedScene" uid="uid://ds67lupctpkdq" path="res://scenery/misc/button.tscn" id="4_oagsn"]
[ext_resource type="Script" path="res://levels/cageDoorJoint.gd" id="5_01oyj"]
[ext_resource type="PackedScene" uid="uid://bfjb2vce6wql2" path="res://scenery/misc/float.tscn" id="5_mjvom"]
[ext_resource type="PackedScene" uid="uid://cxacf0xgo7kq5" path="res://blender_sources/pool_ladder.blend" id="9_rtdlm"]
[ext_resource type="PackedScene" uid="uid://dykuk62nuk0bf" path="res://scenery/misc/floatHeavy.tscn" id="10_ivl5n"]
[ext_resource type="Texture2D" uid="uid://d1mr028oy6oc0" path="res://blender_sources/eliot.png" id="10_t7mob"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3rula"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ifx0o"]
size = Vector3(0.33606, 0.388695, 2.73244)

[sub_resource type="BoxMesh" id="BoxMesh_rtjfd"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ydrio"]
albedo_color = Color(0.0509804, 0, 0.811765, 1)

[sub_resource type="TextMesh" id="TextMesh_g4try"]
material = SubResource("StandardMaterial3D_ydrio")
text = "Press the Button
to Open the door"

[sub_resource type="BoxShape3D" id="BoxShape3D_6nrsx"]
size = Vector3(1, 1, 2.97754)

[sub_resource type="BoxMesh" id="BoxMesh_4t7nt"]

[sub_resource type="QuadMesh" id="QuadMesh_id2ev"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cobvb"]
transparency = 1
albedo_texture = ExtResource("10_t7mob")

[node name="pool" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.26858, 0, 0)
script = ExtResource("1_yjnbp")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.206868, 0)
material_override = SubResource("ShaderMaterial_3rula")
material_overlay = ExtResource("1_81v3v")
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.96735, -0.837554, -5.5)
size = Vector3(26.9347, 9.41559, 26)

[node name="CSGBox3D2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.68741, 1.80322, -0.0961914)
operation = 2
size = Vector3(15.1484, 7.39355, 13.1924)

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.43991, 3.7141, 0.5)
operation = 2
size = Vector3(11.8798, 5, 3)

[node name="CSGBox3D3" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.50777, 0.163656, -6.6867)
operation = 2
size = Vector3(0.657166, 0.655762, 0.622498)

[node name="redBasketArea" parent="." instance=ExtResource("3_yqncf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.90856, 2.02227, -4.12708)

[node name="Button" parent="." instance=ExtResource("4_oagsn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.493484, 2.68389, -1.22841)

[node name="door" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.246898, 1.31587, -0.0780612)
can_sleep = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="door"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0188149, 0.610328, 0.631188)
shape = SubResource("BoxShape3D_ifx0o")

[node name="MeshInstance3D" type="MeshInstance3D" parent="door"]
transform = Transform3D(0.286213, 0, 0, 0, 0.380314, 0, 0, 0, 2.73176, 0, 0.606847, 0.631351)
mesh = SubResource("BoxMesh_rtjfd")
surface_material_override/0 = ExtResource("3_8fh1v")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="door"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0188149, 1.36408, 0.631188)
shape = SubResource("BoxShape3D_ifx0o")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="door"]
transform = Transform3D(0.286213, 0, 0, 0, 0.380314, 0, 0, 0, 2.73176, 0, 1.3685, 0.631351)
mesh = SubResource("BoxMesh_rtjfd")
surface_material_override/0 = ExtResource("3_8fh1v")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="door"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0188149, 2.10498, 0.631188)
shape = SubResource("BoxShape3D_ifx0o")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="door"]
transform = Transform3D(0.286213, 0, 0, 0, 0.380314, 0, 0, 0, 2.73176, 0, 2.11175, 0.631351)
mesh = SubResource("BoxMesh_rtjfd")
surface_material_override/0 = ExtResource("3_8fh1v")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="door"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -0.129619, 0.615751, 0.540749)
mesh = SubResource("TextMesh_g4try")

[node name="cageDoorJoint" type="JoltSliderJoint3D" parent="."]
limit_enabled = true
limit_upper = 0.34
limit_lower = -1.26
limit_spring_enabled = true
motor_enabled = true
motor_max_force = 100.0
node_a = NodePath("../door")
node_b = NodePath("../StaticBody3D")
transform = Transform3D(0, 4.37114e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, -4.37114e-08, -7.641e-08, 2.71518, 0.649459)
script = ExtResource("5_01oyj")

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.64552, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.98877)
shape = SubResource("BoxShape3D_6nrsx")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.874137, 0.119699, -0.470698, 0.48568, -0.215438, 0.847173, -2.91864e-08, -0.969154, -0.246458, 0, 38.52, -1.39321e-06)
light_energy = 1.15
shadow_enabled = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(10.7626, -72.6666, 0, 6.50909, 120.152, 0, 0, 0, 140.417, -23.8356, 39.4116, 0)
visible = false
mesh = SubResource("BoxMesh_4t7nt")
surface_material_override/0 = ExtResource("1_81v3v")

[node name="float" parent="." instance=ExtResource("5_mjvom")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.93207, 1.23094, -1.74504)

[node name="float2" parent="." instance=ExtResource("5_mjvom")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.93207, 1.23094, -2.33816)

[node name="float3" parent="." instance=ExtResource("5_mjvom")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.52502, 1.23094, -2.02509)

[node name="Node3D" parent="." instance=ExtResource("10_ivl5n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.96616, 1.70696, -3.63497)

[node name="Node3D2" parent="." instance=ExtResource("10_ivl5n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.12186, 1.8331, -2.81107)

[node name="Node3D3" parent="." instance=ExtResource("10_ivl5n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.83878, 1.8331, -3.50688)

[node name="pool_ladder" parent="." instance=ExtResource("9_rtdlm")]
transform = Transform3D(-4.37114e-08, -8.74228e-08, -1, 0, -1, 8.74228e-08, -1, 3.82137e-15, 4.37114e-08, 14.7937, 2.59781, -6.34179)

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
transform = Transform3D(0.454271, 0, 0, 0, 0.454271, 0, 0, 0, 0.454271, 14.5794, 2.25338, -5.88484)
mesh = SubResource("QuadMesh_id2ev")
surface_material_override/0 = SubResource("StandardMaterial3D_cobvb")

[connection signal="got_pressed" from="Button" to="cageDoorJoint" method="_on_button_got_pressed"]
